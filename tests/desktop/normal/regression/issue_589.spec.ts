import { test, expect } from "@playwright/test";
import { Helioviewer } from "../../../page_objects/helioviewer";
import * as fs from "fs";

/**
 * This test is a regression test for proving issue 589 is fixed for the given helioviewer
 * @see https://github.com/Helioviewer-Project/helioviewer.org/issues/589
 */
test("Issue 589, names with same frm name , creating problems for highlighting features", async ({ page, browser }) => {
  // Mock API events request to include problem data which creates bug
  await page.route("**/*action=events&sources=HEK*", async (route) => {
    // Fetch original response.
    const response = await route.fetch();
    // Add a prefix to the title.
    let respJson = await response.json();

    const mockedJson = respJson.map((x) => {
      if (x.name == "Coronal Hole") {
        x.groups = [
          {
            name: "SPoCA",
            contact: "veronique.delouille@sidc.be",
            url: "http://sdoatsidc.oma.be/web/sdoatsidc/SoftwareSPoCA",
            data: [
              {
                active: "true",
                area_atdiskcenter: 122666000384,
                area_atdiskcenteruncert: 7537670144,
                area_raw: 37704298496,
                area_uncert: 2429380096,
                area_unit: "km2",
                ar_compactnesscls: "",
                ar_mcintoshcls: "",
                ar_mtwilsoncls: "",
                ar_noaaclass: "",
                ar_noaanum: null,
                ar_numspots: null,
                ar_penumbracls: "",
                ar_polarity: null,
                ar_zurichcls: "",
                boundbox_c1ll: -387.8999938964844,
                boundbox_c1ur: 338.70001220703125,
                boundbox_c2ll: 686.7000122070312,
                boundbox_c2ur: 951.2999877929688,
                bound_ccnsteps: 25,
                bound_ccstartc1: -387.8999938964844,
                bound_ccstartc2: 867.2999877929688,
                bound_chaincode:
                  "POLYGON((-387.9 867.3,-386.7 867.9,-230.1 923.1,-43.5 950.7,137.1 941.7,318.9 896.7,338.7 879.3,299.1 884.1,319.5 861.9,299.1 849.9,316.5 813.3,233.7 807.3,185.7 783.9,171.9 752.7,124.5 736.5,128.1 687.3,81.3 699.3,52.5 751.5,10.5 758.1,-42.9 809.1,-84.9 813.3,-154.5 854.7,-169.5 869.1,-165.9 900.9,-266.1 908.1,-387.9 867.3))",
                chaincodetype: "ordered list of points in HPC",
                comment_count: "0",
                concept: "Coronal Hole",
                eventtype: "5",
                event_avg_rating: null,
                event_c1error: 1.7107700109481812,
                event_c2error: 14.88129997253418,
                event_clippedspatial: "T",
                event_clippedtemporal: "",
                event_coord1: 67.11329650878906,
                event_coord2: 855.7670288085938,
                event_coord3: null,
                event_coordsys: "UTC-HPC-TOPO",
                event_coordunit: "arcsec,arcsec",
                event_description: "",
                event_endtime: "2017-09-06T14:25:05",
                event_expires: "",
                event_importance: null,
                event_importance_num_ratings: "",
                event_mapurl: "",
                event_maskurl: "",
                event_npixels: 195680,
                event_pixelunit: "DN/s",
                event_probability: 0.7659670114517212,
                event_score: "0.321407977697443004",
                event_starttime: "2017-09-06T10:25:05",
                event_testflag: "false",
                event_title: "",
                event_type: "CH",
                frm_contact: "veronique.delouille@sidc.be",
                frm_daterun: "2017-09-06T14:40:25",
                frm_humanflag: "false",
                frm_identifier: "vdelouille",
                frm_institute: "ROB",
                frm_name: "SPoCA",
                frm_paramset:
                  "image195 : calibrated image 193/195 A; spocaPreprocessing=DivExpTime,ALC,ThrMax80,TakeSqrt; spocaClassifierType=HFCM; spocaNumberclasses=4; spocaChannels=[AIA_193]; spocaPrecision=0.00150000; spocaRadiusRatio=1.20; spocaBinsize=0.01000000; spocaSegmentationType=max; spocaVersion=2.00; intensitiesStatsPreprocessing=NAR,DivExpTime; intensitiesStatsRadiusRatio=0.95; trackingDeltat=36000; trackingOverlap=2; trackingNumberImages=6; minLifeTime=259200; minDeathTime=28800; spocaCenters=(3.8252),(6.9934),(9.1808),(11.3014)",
                frm_specificid: "SPoCA_v1.0_CH_0000026458",
                frm_url: "http://sdoatsidc.oma.be/web/sdoatsidc/SoftwareSPoCA",
                frm_versionnumber: 1,
                gs_galleryid: "",
                gs_imageurl:
                  "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_074148_7396/www/ssw_cutout_193_context_full.gif",
                gs_movieurl: "",
                gs_thumburl:
                  "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_074148_7396/www/ssw_cutout_193_context_thumb.gif",
                hcr_checked: "true",
                hgc_bbox:
                  "POLYGON((42.166899 51.689079,118.374042 52.076329,154.330142 69.249887,9.656852 66.805258,42.166899 51.689079))",
                hgc_boundcc:
                  "POLYGON((-0.55401 65.810294,-0.39283 65.881675,10.799487 75.309954,56.41346 84.166676,141.858604 80.303953,158.97372 69.796812,168.208405 69.0967,158.192875 71.046348,149.168421 68.485788,139.008926 67.737948,131.675671 63.728127,117.123086 64.026789,107.541478 61.927757,103.522694 58.901988,97.178401 57.534056,96.030713 53.107653,91.498135 54.247402,89.271234 59.120585,84.37414 59.802675,76.975844 65.175056,70.706389 65.558586,54.539249 70.213029,48.111637 71.95523,34.926265 76.499908,-5.690504 73.776431,-0.55401 65.810294))",
                hgc_coord: "POINT(95.525547 70.88419)",
                hgc_skeletoncc: "",
                hgc_x: 95.525547,
                hgc_y: 70.88419,
                hgs_bbox:
                  "POLYGON((-40.954464 51.689079,35.252679 52.076329,71.208779 69.249887,-73.464511 66.805258,-40.954464 51.689079))",
                hgs_boundcc:
                  "POLYGON((-83.675373 65.810294,-83.514193 65.881675,-72.321876 75.309954,-26.707903 84.166676,58.737241 80.303953,75.852357 69.796812,85.087042 69.0967,75.071512 71.046348,66.047058 68.485788,55.887563 67.737948,48.554308 63.728127,34.001723 64.026789,24.420115 61.927757,20.401331 58.901988,14.057038 57.534056,12.90935 53.107653,8.376772 54.247402,6.149872 59.120585,1.252777 59.802675,-6.145519 65.175056,-12.414974 65.558586,-28.582114 70.213029,-35.009726 71.95523,-48.195098 76.499908,-88.811867 73.776431,-83.675373 65.810294))",
                hgs_coord: "POINT(12.404184 70.88419)",
                hgs_skeletoncc: "",
                hgs_x: 12.404184,
                hgs_y: 70.88419,
                hpc_bbox: "POLYGON((-387.9 686.7,338.7 686.7,338.7 951.3,-387.9 951.3,-387.9 686.7))",
                hpc_boundcc:
                  "POLYGON((-387.9 867.3,-386.7 867.9,-230.1 923.1,-43.5 950.7,137.1 941.7,318.9 896.7,338.7 879.3,299.1 884.1,319.5 861.9,299.1 849.9,316.5 813.3,233.7 807.3,185.7 783.9,171.9 752.7,124.5 736.5,128.1 687.3,81.3 699.3,52.5 751.5,10.5 758.1,-42.9 809.1,-84.9 813.3,-154.5 854.7,-169.5 869.1,-165.9 900.9,-266.1 908.1,-387.9 867.3))",
                hpc_coord: "POINT(67.1133 855.767)",
                hpc_geom:
                  "0103000000010000001A00000066666666663E78C066666666661A8B4033333333332B78C033333333331F8B403333333333C36CC0CDCCCCCCCCD88C400000000000C045C09A99999999B58D4033333333332361409A999999996D8D406666666666EE73409A99999999058C4033333333332B754066666666667A8B409A99999999B17240CDCCCCCCCCA08B400000000000F873403333333333EF8A409A99999999B1724033333333338F8A400000000000C8734066666666666A89406666666666366D4066666666663A8940666666666636674033333333337F8840CDCCCCCCCC7C65409A999999998587400000000000205F400000000000048740333333333303604066666666667A854033333333335354406666666666DA85400000000000404A4000000000007C87400000000000002540CDCCCCCCCCB0874033333333337345C0CDCCCCCCCC4889409A999999993955C066666666666A894000000000005063C09A99999999B58A4000000000003065C0CDCCCCCCCC288B40CDCCCCCCCCBC64C03333333333278C409A99999999A170C0CDCCCCCCCC608C4066666666663E78C066666666661A8B40",
                hpc_radius: "858.394637288636659",
                hpc_skeletoncc: "",
                hpc_x: 67.1133,
                hpc_y: 855.767,
                hrc_a: 355.515771982161,
                hrc_bbox:
                  "POLYGON((0.828332 29.46104,0.804177 333.746172,1.060559 340.402282,1.07899 22.183562,0.828332 29.46104))",
                hrc_boundcc:
                  "POLYGON((0.997854 24.096585,0.997915 24.015757,0.999171 13.996805,0.999536 2.619785,0.999466 351.716632,0.999561 340.422714,0.989646 338.933676,0.980242 341.3088,0.965422 339.660627,0.946287 340.611818,0.916585 338.736237,0.882695 343.855144,0.846093 346.672737,0.810892 347.13554,0.784498 350.405268,0.734281 349.442266,0.739401 353.368613,0.791202 356.003793,0.796286 359.20648,0.850967 3.035088,0.858826 5.959494,0.912214 10.246434,0.929987 11.035829,0.962098 10.434076,0.993855 16.332136,0.997854 24.096585))",
                hrc_coord: "POINT(0.901546237379087 355.515771982161)",
                hrc_r: 0.901546237379087,
                hrc_skeletoncc: "",
                hv_hpc_r_scaled: 865.601264405159,
                hv_hpc_x_final: 65.75761670410725,
                hv_hpc_x_notscaled_rot: 65.21014682028799,
                hv_hpc_x_rot_delta_notscaled: -1.9031531797120067,
                hv_hpc_x_scaled_rot: 65.75761670410725,
                hv_hpc_y_final: 862.901408711809,
                hv_hpc_y_notscaled_rot: 855.7172594428253,
                hv_hpc_y_rot_delta_notscaled: -0.049740557174800415,
                hv_hpc_y_scaled_rot: 862.901408711809,
                hv_labels_formatted: {
                  "SPoCA Identifier": "SPoCA 26458"
                },
                hv_marker_offset_x: "207",
                hv_marker_offset_y: "-39",
                hv_poly_height_max_zoom_pixels: 442.94708476327736,
                hv_poly_hpc_x_final: -393.07573420054064,
                hv_poly_hpc_x_ul_scaled_norot: -391.15660315387095,
                hv_poly_hpc_x_ul_scaled_rot: -393.07573420054064,
                hv_poly_hpc_y_final: -958.7317323170074,
                hv_poly_hpc_y_ul_scaled_norot: -958.681574164437,
                hv_poly_hpc_y_ul_scaled_rot: -958.7317323170074,
                hv_poly_url:
                  "cache/events/2017/09/06/ivo%253A%252F%252Fhelio-informatics.org%252FCH_SPoCA_20170906_144026_20170906T142505_3.png",
                hv_poly_width_max_zoom_pixels: 1214.8540310895871,
                hv_rot_hpc_time_base: "2017-09-06T10:25:05",
                hv_rot_hpc_time_targ: "2017-09-06T13:33:06.000Z",
                intenskurt: -0.49380800127983093,
                intensmax: 28.99920082092285,
                intensmean: 18.21980094909668,
                intensmedian: 17.999500274658203,
                intensmin: 5.999839782714844,
                intensskew: 0.2931640148162842,
                intenstotal: 2405670,
                intensunit: "DN/s",
                intensvar: 18.25279998779297,
                kb_archivdate: "2017-09-06T14:40:27",
                kb_archivid: "ivo://helio-informatics.org/CH_SPoCA_20170906_144026_20170906T142505_3",
                kb_archivist: "eds",
                noposition: "false",
                obs_channelid: "AIA 193",
                obs_dataprepurl: "",
                obs_firstprocessingdate: "",
                obs_includesnrt: "T",
                obs_instrument: "AIA",
                obs_lastprocessingdate: "2017-09-06T14:35:23",
                obs_levelnum: 1.5,
                obs_meanwavel: 0.00000193,
                obs_observatory: "SDO",
                obs_title: "",
                obs_wavelunit: "cm",
                rasterscan: "",
                rasterscantype: "",
                refs: [
                  {
                    ref_name: "FRM_URL",
                    ref_type: "unknown",
                    ref_url: "http://sdoatsidc.oma.be/web/sdoatsidc/SoftwareSPoCA"
                  },
                  {
                    ref_name: "OBS_DATAPREPURL",
                    ref_type: "unknown",
                    ref_url: "http://sdoatsidc.oma.be/web/sdoatsidc/SoftwareSPoCA"
                  },
                  {
                    ref_name: "SSW Context Image",
                    ref_type: "image",
                    ref_url:
                      "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_074148_7396/www/ssw_cutout_193_context_full.gif"
                  },
                  {
                    ref_name: "SSW Context Thumbnail",
                    ref_type: "thumbnail",
                    ref_url:
                      "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_074148_7396/www/ssw_cutout_193_context_thumb.gif"
                  }
                ],
                refs_orig: "",
                revision: "1",
                search_channelid: "193",
                search_frm_name: "SPoCA",
                search_instrument: "AIA",
                search_observatory: "SDO",
                skel_chaincode: "",
                skel_nsteps: null,
                skel_startc1: null,
                skel_startc2: null,
                SOL_standard: "SOL2017-09-06T10:25:05L095C020",
                sum_overlap_scores: "0",
                hv_hpc_x: 65.75761670410725,
                hv_hpc_y: 862.901408711809,
                label: "SPoCA 26458",
                version: "SPoCA_v1.0_CH_0000026458",
                id: "ivo://helio-informatics.org/CH_SPoCA_20170906_144026_20170906T142505_3",
                type: "CH",
                start: "2017-09-06T10:25:05",
                end: "2017-09-06T14:25:05"
              },
              {
                active: "true",
                area_atdiskcenter: 4561280000,
                area_atdiskcenteruncert: 499582016,
                area_raw: 768414976,
                area_uncert: 118073000,
                area_unit: "km2",
                ar_compactnesscls: "",
                ar_mcintoshcls: "",
                ar_mtwilsoncls: "",
                ar_noaaclass: "",
                ar_noaanum: null,
                ar_numspots: null,
                ar_penumbracls: "",
                ar_polarity: null,
                ar_zurichcls: "",
                boundbox_c1ll: 354.8999938964844,
                boundbox_c1ur: 465.8999938964844,
                boundbox_c2ll: 827.0999755859375,
                boundbox_c2ur: 875.0999755859375,
                bound_ccnsteps: 6,
                bound_ccstartc1: 354.8999938964844,
                bound_ccstartc2: 851.7000122070312,
                bound_chaincode:
                  "POLYGON((354.9 851.7,355.5 852.3,374.1 875.1,465.9 829.5,380.7 849.3,360.9 827.7,354.9 851.7))",
                chaincodetype: "ordered list of points in HPC",
                comment_count: "0",
                concept: "Coronal Hole",
                eventtype: "5",
                event_avg_rating: null,
                event_c1error: 7.049880027770996,
                event_c2error: 14.805299758911133,
                event_clippedspatial: "T",
                event_clippedtemporal: "",
                event_coord1: 386.82000732421875,
                event_coord2: 851.218994140625,
                event_coord3: null,
                event_coordsys: "UTC-HPC-TOPO",
                event_coordunit: "arcsec,arcsec",
                event_description: "",
                event_endtime: "2017-09-06T14:25:05",
                event_expires: "",
                event_importance: null,
                event_importance_num_ratings: "",
                event_mapurl: "",
                event_maskurl: "",
                event_npixels: 3992,
                event_pixelunit: "DN/s",
                event_probability: 0.6170349717140198,
                event_score: "0.0119514109526882017",
                event_starttime: "2017-09-06T10:25:05",
                event_testflag: "false",
                event_title: "",
                event_type: "CH",
                frm_contact: "veronique.delouille@sidc.be",
                frm_daterun: "2017-09-06T14:40:25",
                frm_humanflag: "false",
                frm_identifier: "vdelouille",
                frm_institute: "ROB",
                frm_name: "SPoCA",
                frm_paramset:
                  "image195 : calibrated image 193/195 A; spocaPreprocessing=DivExpTime,ALC,ThrMax80,TakeSqrt; spocaClassifierType=HFCM; spocaNumberclasses=4; spocaChannels=[AIA_193]; spocaPrecision=0.00150000; spocaRadiusRatio=1.20; spocaBinsize=0.01000000; spocaSegmentationType=max; spocaVersion=2.00; intensitiesStatsPreprocessing=NAR,DivExpTime; intensitiesStatsRadiusRatio=0.95; trackingDeltat=36000; trackingOverlap=2; trackingNumberImages=6; minLifeTime=259200; minDeathTime=28800; spocaCenters=(3.8252),(6.9934),(9.1808),(11.3014)",
                frm_specificid: "SPoCA_v1.0_CH_0000026505",
                frm_url: "http://sdoatsidc.oma.be/web/sdoatsidc/SoftwareSPoCA",
                frm_versionnumber: 1,
                gs_galleryid: "",
                gs_imageurl:
                  "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_074147_7384/www/ssw_cutout_193_context_full.gif",
                gs_movieurl: "",
                gs_thumburl:
                  "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_074147_7384/www/ssw_cutout_193_context_thumb.gif",
                hcr_checked: "true",
                hgc_bbox:
                  "POLYGON((142.714965 64.435751,169.822211 60.663033,160.336504 61.191459,170.733044 68.109449,142.714965 64.435751))",
                hgc_boundcc:
                  "POLYGON((152.989809 66.638395,153.470591 66.671337,161.439556 66.349958,165.488863 60.423164,158.89792 65.665056,144.171682 64.372172,152.989809 66.638395))",
                hgc_coord: "POINT(162.074545 65.571119)",
                hgc_skeletoncc: "",
                hgc_x: 162.074545,
                hgc_y: 65.571119,
                hgs_bbox:
                  "POLYGON((59.593602 64.435751,86.700848 60.663033,77.215141 61.191459,87.611681 68.109449,59.593602 64.435751))",
                hgs_boundcc:
                  "POLYGON((69.868446 66.638395,70.349228 66.671337,78.318193 66.349958,82.3675 60.423164,75.776557 65.665056,61.050319 64.372172,69.868446 66.638395))",
                hgs_coord: "POINT(78.953182 65.571119)",
                hgs_skeletoncc: "",
                hgs_x: 78.953182,
                hgs_y: 65.571119,
                hpc_bbox: "POLYGON((354.9 827.1,465.9 827.1,465.9 875.1,354.9 875.1,354.9 827.1))",
                hpc_boundcc:
                  "POLYGON((354.9 851.7,355.5 852.3,374.1 875.1,465.9 829.5,380.7 849.3,360.9 827.7,354.9 851.7))",
                hpc_coord: "POINT(386.82 851.219)",
                hpc_geom:
                  "0103000000010000000700000066666666662E76409A999999999D8A4000000000003876406666666666A28A409A99999999617740CDCCCCCCCC588B4066666666661E7D400000000000EC89403333333333CB774066666666668A8A4066666666668E76409A99999999DD894066666666662E76409A999999999D8A40",
                hpc_radius: "934.9885017266256",
                hpc_skeletoncc: "",
                hpc_x: 386.82,
                hpc_y: 851.219,
                hrc_a: 335.561497126087,
                hrc_bbox:
                  "POLYGON((0.945271 336.776333,0.997014 330.607724,1.041232 331.969328,0.991799 337.924806,0.945271 336.776333))",
                hrc_boundcc:
                  "POLYGON((0.969068 337.378702,0.969892 337.358658,0.999552 336.853583,0.999211 330.678661,0.977509 335.85562,0.948352 336.441472,0.969068 337.378702))",
                hrc_coord: "POINT(0.981990484454658 335.561497126087)",
                hrc_r: 0.981990484454658,
                hrc_skeletoncc: "",
                hv_hpc_r_scaled: 942.8381703958789,
                hv_hpc_x_final: 389.60964394917414,
                hv_hpc_x_notscaled_rot: 386.36592014653826,
                hv_hpc_x_rot_delta_notscaled: -0.4540798534617352,
                hv_hpc_x_scaled_rot: 389.60964394917414,
                hv_hpc_y_final: 858.0564007054577,
                hv_hpc_y_notscaled_rot: 850.9125889076793,
                hv_hpc_y_rot_delta_notscaled: -0.30641109232078634,
                hv_hpc_y_scaled_rot: 858.0564007054577,
                hv_labels_formatted: {
                  "SPoCA Identifier": "SPoCA 26505"
                },
                hv_marker_offset_x: "-57",
                hv_marker_offset_y: "-17",
                hv_poly_height_max_zoom_pixels: 82.9904776681068,
                hv_poly_hpc_x_final: 357.42166054725726,
                hv_poly_hpc_x_ul_scaled_norot: 357.8795526148719,
                hv_poly_hpc_x_ul_scaled_rot: 357.42166054725726,
                hv_poly_hpc_y_final: -882.7558601237035,
                hv_poly_hpc_y_ul_scaled_norot: -882.4468765660029,
                hv_poly_hpc_y_ul_scaled_rot: -882.7558601237035,
                hv_poly_url:
                  "cache/events/2017/09/06/ivo%253A%252F%252Fhelio-informatics.org%252FCH_SPoCA_20170906_144026_20170906T142505_4.png",
                hv_poly_width_max_zoom_pixels: 188.97770086835138,
                hv_rot_hpc_time_base: "2017-09-06T10:25:05",
                hv_rot_hpc_time_targ: "2017-09-06T13:33:06.000Z",
                intenskurt: -0.7184129953384399,
                intensmax: 28.499300003051758,
                intensmean: 24.97760009765625,
                intensmedian: 24.999300003051758,
                intensmin: 21.999399185180664,
                intensskew: 0.030420899391174316,
                intenstotal: 574.4849853515625,
                intensunit: "DN/s",
                intensvar: 2.9667599201202393,
                kb_archivdate: "2017-09-06T14:40:28",
                kb_archivid: "ivo://helio-informatics.org/CH_SPoCA_20170906_144026_20170906T142505_4",
                kb_archivist: "eds",
                noposition: "false",
                obs_channelid: "AIA 193",
                obs_dataprepurl: "",
                obs_firstprocessingdate: "",
                obs_includesnrt: "T",
                obs_instrument: "AIA",
                obs_lastprocessingdate: "2017-09-06T14:35:23",
                obs_levelnum: 1.5,
                obs_meanwavel: 0.00000193,
                obs_observatory: "SDO",
                obs_title: "",
                obs_wavelunit: "cm",
                rasterscan: "",
                rasterscantype: "",
                refs: [
                  {
                    ref_name: "SSW Context Image",
                    ref_type: "image",
                    ref_url:
                      "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_074147_7384/www/ssw_cutout_193_context_full.gif"
                  },
                  {
                    ref_name: "SSW Context Thumbnail",
                    ref_type: "thumbnail",
                    ref_url:
                      "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_074147_7384/www/ssw_cutout_193_context_thumb.gif"
                  },
                  {
                    ref_name: "FRM_URL",
                    ref_type: "unknown",
                    ref_url: "http://sdoatsidc.oma.be/web/sdoatsidc/SoftwareSPoCA"
                  },
                  {
                    ref_name: "OBS_DATAPREPURL",
                    ref_type: "unknown",
                    ref_url: "http://sdoatsidc.oma.be/web/sdoatsidc/SoftwareSPoCA"
                  }
                ],
                refs_orig: "",
                revision: "1",
                search_channelid: "193",
                search_frm_name: "SPoCA",
                search_instrument: "AIA",
                search_observatory: "SDO",
                skel_chaincode: "",
                skel_nsteps: null,
                skel_startc1: null,
                skel_startc2: null,
                SOL_standard: "SOL2017-09-06T10:25:05L162C025",
                sum_overlap_scores: "0",
                hv_hpc_x: 389.60964394917414,
                hv_hpc_y: 858.0564007054577,
                label: "SPoCA 26505",
                version: "SPoCA_v1.0_CH_0000026505",
                id: "ivo://helio-informatics.org/CH_SPoCA_20170906_144026_20170906T142505_4",
                type: "CH",
                start: "2017-09-06T10:25:05",
                end: "2017-09-06T14:25:05"
              },
              {
                active: "true",
                area_atdiskcenter: 7100210176,
                area_atdiskcenteruncert: 864771968,
                area_raw: 5807920128,
                area_uncert: 724843008,
                area_unit: "km2",
                ar_compactnesscls: "",
                ar_mcintoshcls: "",
                ar_mtwilsoncls: "",
                ar_noaaclass: "",
                ar_noaanum: null,
                ar_numspots: null,
                ar_penumbracls: "",
                ar_polarity: null,
                ar_zurichcls: "",
                boundbox_c1ll: 57.900001525878906,
                boundbox_c1ur: 232.5,
                boundbox_c2ll: -613.5,
                boundbox_c2ur: -453.29998779296875,
                bound_ccnsteps: 12,
                bound_ccstartc1: 57.900001525878906,
                bound_ccstartc2: -591.9000244140625,
                bound_chaincode:
                  "POLYGON((57.9 -591.9,58.5 -591.3,100.5 -543.9,86.7 -489.3,99.9 -472.5,150.3 -453.3,230.7 -470.1,225.3 -509.7,169.5 -506.7,159.9 -545.7,105.9 -612.3,70.5 -611.1,57.9 -591.9))",
                chaincodetype: "ordered list of points in HPC",
                comment_count: "0",
                concept: "Coronal Hole",
                eventtype: "5",
                event_avg_rating: null,
                event_c1error: 2.8620800971984863,
                event_c2error: 9.35608959197998,
                event_clippedspatial: "F",
                event_clippedtemporal: "",
                event_coord1: 136.0540008544922,
                event_coord2: -523.7169799804688,
                event_coord3: null,
                event_coordsys: "UTC-HPC-TOPO",
                event_coordunit: "arcsec,arcsec",
                event_description: "",
                event_endtime: "2017-09-06T14:25:05",
                event_expires: "",
                event_importance: null,
                event_importance_num_ratings: "",
                event_mapurl: "",
                event_maskurl: "",
                event_npixels: 30183,
                event_pixelunit: "DN/s",
                event_probability: 0.6808630228042603,
                event_score: "0.0186038852391948381",
                event_starttime: "2017-09-06T10:25:05",
                event_testflag: "false",
                event_title: "",
                event_type: "CH",
                frm_contact: "veronique.delouille@sidc.be",
                frm_daterun: "2017-09-06T14:40:25",
                frm_humanflag: "false",
                frm_identifier: "vdelouille",
                frm_institute: "ROB",
                frm_name: "SPoCA",
                frm_paramset:
                  "image195 : calibrated image 193/195 A; spocaPreprocessing=DivExpTime,ALC,ThrMax80,TakeSqrt; spocaClassifierType=HFCM; spocaNumberclasses=4; spocaChannels=[AIA_193]; spocaPrecision=0.00150000; spocaRadiusRatio=1.20; spocaBinsize=0.01000000; spocaSegmentationType=max; spocaVersion=2.00; intensitiesStatsPreprocessing=NAR,DivExpTime; intensitiesStatsRadiusRatio=0.95; trackingDeltat=36000; trackingOverlap=2; trackingNumberImages=6; minLifeTime=259200; minDeathTime=28800; spocaCenters=(3.8252),(6.9934),(9.1808),(11.3014)",
                frm_specificid: "SPoCA_v1.0_CH_0000026492",
                frm_url: "http://sdoatsidc.oma.be/web/sdoatsidc/SoftwareSPoCA",
                frm_versionnumber: 1,
                gs_galleryid: "",
                gs_imageurl:
                  "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_074148_7392/www/ssw_cutout_193_context_full.gif",
                gs_movieurl: "",
                gs_thumburl:
                  "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_074148_7392/www/ssw_cutout_193_context_thumb.gif",
                hcr_checked: "true",
                hgc_bbox:
                  "POLYGON((87.251671 -32.720879,100.00002 -33.049826,98.257698 -21.328818,86.842765 -21.074774,87.251671 -32.720879))",
                hgc_boundcc:
                  "POLYGON((87.176797 -31.04683,87.216929 -31.001316,89.929468 -27.495996,88.800772 -23.580499,89.612678 -22.42541,92.827892 -21.169978,98.26329 -22.481361,98.229549 -25.251303,94.397678 -24.918029,94.015646 -27.715097,90.687606 -32.676525,88.142563 -32.543025,87.176797 -31.04683))",
                hgc_coord: "POINT(92.2402748 -26.078823)",
                hgc_skeletoncc: "",
                hgc_x: 92.2402748,
                hgc_y: -26.078823,
                hgs_bbox:
                  "POLYGON((4.130308 -32.720879,16.878657 -33.049826,15.136335 -21.328818,3.721402 -21.074774,4.130308 -32.720879))",
                hgs_boundcc:
                  "POLYGON((4.055434 -31.04683,4.095566 -31.001316,6.808105 -27.495996,5.679409 -23.580499,6.491315 -22.42541,9.706529 -21.169978,15.141927 -22.481361,15.108186 -25.251303,11.276315 -24.918029,10.894283 -27.715097,7.566243 -32.676525,5.0212 -32.543025,4.055434 -31.04683))",
                hgs_coord: "POINT(9.1189118 -26.078823)",
                hgs_skeletoncc: "",
                hgs_x: 9.1189118,
                hgs_y: -26.078823,
                hpc_bbox: "POLYGON((57.9 -613.5,232.5 -613.5,232.5 -453.3,57.9 -453.3,57.9 -613.5))",
                hpc_boundcc:
                  "POLYGON((57.9 -591.9,58.5 -591.3,100.5 -543.9,86.7 -489.3,99.9 -472.5,150.3 -453.3,230.7 -470.1,225.3 -509.7,169.5 -506.7,159.9 -545.7,105.9 -612.3,70.5 -611.1,57.9 -591.9))",
                hpc_coord: "POINT(136.054 -523.717)",
                hpc_geom:
                  "0103000000010000000D0000003333333333F34C4033333333337F82C00000000000404D4066666666667A82C000000000002059403333333333FF80C0CDCCCCCCCCAC5540CDCCCCCCCC947EC09A99999999F958400000000000887DC09A99999999C96240CDCCCCCCCC547CC06666666666D66C409A99999999617DC09A99999999296C403333333333DB7FC000000000003065403333333333AB7FC0CDCCCCCCCCFC63409A999999990D81C09A99999999795A4066666666662283C00000000000A05140CDCCCCCCCC1883C03333333333F34C4033333333337F82C0",
                hpc_radius: "541.10090279447877",
                hpc_skeletoncc: "",
                hpc_x: 136.054,
                hpc_y: -523.717,
                hrc_a: 194.562695370508,
                hrc_bbox:
                  "POLYGON((0.647204 185.391408,0.689059 200.755361,0.535058 207.153531,0.479955 187.278974,0.647204 185.391408))",
                hrc_boundcc:
                  "POLYGON((0.624622 185.586931,0.624057 185.650145,0.580912 190.468842,0.521902 190.048055,0.507223 191.93815,0.501575 198.343895,0.549981 206.139341,0.585288 203.846614,0.561158 198.495988,0.59723 196.331542,0.652628 189.812487,0.646077 186.580877,0.624622 185.586931))",
                hrc_coord: "POINT(0.568302109269535 194.562695370508)",
                hrc_r: 0.568302109269535,
                hrc_skeletoncc: "",
                hv_hpc_r_scaled: 545.6436996264471,
                hv_hpc_x_final: 130.2778902490423,
                hv_hpc_x_notscaled_rot: 129.19325207306036,
                hv_hpc_x_rot_delta_notscaled: -6.860747926939638,
                hv_hpc_x_scaled_rot: 130.2778902490423,
                hv_hpc_y_final: -528.2513063725654,
                hv_hpc_y_notscaled_rot: -523.8533111923493,
                hv_hpc_y_rot_delta_notscaled: -0.1363111923493534,
                hv_hpc_y_scaled_rot: -528.2513063725654,
                hv_labels_formatted: {
                  "SPoCA Identifier": "SPoCA 26492"
                },
                hv_marker_offset_x: "-25",
                hv_marker_offset_y: "-52",
                hv_poly_height_max_zoom_pixels: 268.9680580006114,
                hv_poly_hpc_x_final: 51.467750628019495,
                hv_poly_hpc_x_ul_scaled_norot: 58.386097763880194,
                hv_poly_hpc_x_ul_scaled_rot: 51.467750628019495,
                hv_poly_hpc_y_final: 456.96821136035675,
                hv_poly_hpc_y_ul_scaled_norot: 457.10566694934187,
                hv_poly_hpc_y_ul_scaled_rot: 456.96821136035675,
                hv_poly_url:
                  "cache/events/2017/09/06/ivo%253A%252F%252Fhelio-informatics.org%252FCH_SPoCA_20170906_144025_20170906T142505_1.png",
                hv_poly_width_max_zoom_pixels: 291.9652856761363,
                hv_rot_hpc_time_base: "2017-09-06T10:25:05",
                hv_rot_hpc_time_targ: "2017-09-06T13:33:06.000Z",
                intenskurt: -0.5202550292015076,
                intensmax: 28.99920082092285,
                intensmean: 21.949899673461914,
                intensmedian: 21.999399185180664,
                intensmin: 9.999739646911621,
                intensskew: 0.007019650191068649,
                intenstotal: 662512,
                intensunit: "DN/s",
                intensvar: 11.019200325012207,
                kb_archivdate: "2017-09-06T14:40:28",
                kb_archivid: "ivo://helio-informatics.org/CH_SPoCA_20170906_144025_20170906T142505_1",
                kb_archivist: "eds",
                noposition: "false",
                obs_channelid: "AIA 193",
                obs_dataprepurl: "",
                obs_firstprocessingdate: "",
                obs_includesnrt: "T",
                obs_instrument: "AIA",
                obs_lastprocessingdate: "2017-09-06T14:35:23",
                obs_levelnum: 1.5,
                obs_meanwavel: 0.00000193,
                obs_observatory: "SDO",
                obs_title: "",
                obs_wavelunit: "cm",
                rasterscan: "",
                rasterscantype: "",
                refs: [
                  {
                    ref_name: "FRM_URL",
                    ref_type: "unknown",
                    ref_url: "http://sdoatsidc.oma.be/web/sdoatsidc/SoftwareSPoCA"
                  },
                  {
                    ref_name: "OBS_DATAPREPURL",
                    ref_type: "unknown",
                    ref_url: "http://sdoatsidc.oma.be/web/sdoatsidc/SoftwareSPoCA"
                  },
                  {
                    ref_name: "SSW Context Image",
                    ref_type: "image",
                    ref_url:
                      "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_074148_7392/www/ssw_cutout_193_context_full.gif"
                  },
                  {
                    ref_name: "SSW Context Thumbnail",
                    ref_type: "thumbnail",
                    ref_url:
                      "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_074148_7392/www/ssw_cutout_193_context_thumb.gif"
                  }
                ],
                refs_orig: "",
                revision: "1",
                search_channelid: "193",
                search_frm_name: "SPoCA",
                search_instrument: "AIA",
                search_observatory: "SDO",
                skel_chaincode: "",
                skel_nsteps: null,
                skel_startc1: null,
                skel_startc2: null,
                SOL_standard: "SOL2017-09-06T10:25:05L092C116",
                sum_overlap_scores: "0",
                hv_hpc_x: 130.2778902490423,
                hv_hpc_y: -528.2513063725654,
                label: "SPoCA 26492",
                version: "SPoCA_v1.0_CH_0000026492",
                id: "ivo://helio-informatics.org/CH_SPoCA_20170906_144025_20170906T142505_1",
                type: "CH",
                start: "2017-09-06T10:25:05",
                end: "2017-09-06T14:25:05"
              },
              {
                active: "true",
                area_atdiskcenter: 15729300480,
                area_atdiskcenteruncert: 1564450048,
                area_raw: 2099170048,
                area_uncert: 334401984,
                area_unit: "km2",
                ar_compactnesscls: "",
                ar_mcintoshcls: "",
                ar_mtwilsoncls: "",
                ar_noaaclass: "",
                ar_noaanum: null,
                ar_numspots: null,
                ar_penumbracls: "",
                ar_polarity: null,
                ar_zurichcls: "",
                boundbox_c1ll: -269.1000061035156,
                boundbox_c1ur: 108.30000305175781,
                boundbox_c2ll: -950.0999755859375,
                boundbox_c2ur: -903.9000244140625,
                bound_ccnsteps: 6,
                bound_ccstartc1: -269.1000061035156,
                bound_ccstartc2: -911.0999755859375,
                bound_chaincode:
                  "POLYGON((-269.1 -911.1,-266.7 -910.5,-115.5 -937.5,-50.7 -929.1,108.3 -944.1,-71.1 -947.7,-269.1 -911.1))",
                chaincodetype: "ordered list of points in HPC",
                comment_count: "0",
                concept: "Coronal Hole",
                eventtype: "5",
                event_avg_rating: null,
                event_c1error: 2.0708301067352295,
                event_c2error: 16.227500915527344,
                event_clippedspatial: "T",
                event_clippedtemporal: "",
                event_coord1: -87.47360229492188,
                event_coord2: -935.177978515625,
                event_coord3: null,
                event_coordsys: "UTC-HPC-TOPO",
                event_coordunit: "arcsec,arcsec",
                event_description: "",
                event_endtime: "2017-09-06T14:25:05",
                event_expires: "",
                event_importance: null,
                event_importance_num_ratings: "",
                event_mapurl: "",
                event_maskurl: "",
                event_npixels: 10905,
                event_pixelunit: "DN/s",
                event_probability: null,
                event_score: "0.041213723786918538",
                event_starttime: "2017-09-06T10:25:05",
                event_testflag: "false",
                event_title: "",
                event_type: "CH",
                frm_contact: "veronique.delouille@sidc.be",
                frm_daterun: "2017-09-06T14:40:25",
                frm_humanflag: "false",
                frm_identifier: "vdelouille",
                frm_institute: "ROB",
                frm_name: "SPoCA",
                frm_paramset:
                  "image195 : calibrated image 193/195 A; spocaPreprocessing=DivExpTime,ALC,ThrMax80,TakeSqrt; spocaClassifierType=HFCM; spocaNumberclasses=4; spocaChannels=[AIA_193]; spocaPrecision=0.00150000; spocaRadiusRatio=1.20; spocaBinsize=0.01000000; spocaSegmentationType=max; spocaVersion=2.00; intensitiesStatsPreprocessing=NAR,DivExpTime; intensitiesStatsRadiusRatio=0.95; trackingDeltat=36000; trackingOverlap=2; trackingNumberImages=6; minLifeTime=259200; minDeathTime=28800; spocaCenters=(3.8252),(6.9934),(9.1808),(11.3014)",
                frm_specificid: "SPoCA_v1.0_CH_0000026494",
                frm_url: "http://sdoatsidc.oma.be/web/sdoatsidc/SoftwareSPoCA",
                frm_versionnumber: 1,
                gs_galleryid: "",
                gs_imageurl:
                  "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_074148_7388/www/ssw_cutout_193_context_full.gif",
                gs_movieurl: "",
                gs_thumburl:
                  "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_074148_7388/www/ssw_cutout_193_context_thumb.gif",
                hcr_checked: "true",
                hgc_bbox:
                  "POLYGON((17.942922 -72.52764,124.182198 -80.071732,98.449941 -64.552817,35.810125 -67.40294,17.942922 -72.52764))",
                hgc_boundcc:
                  "POLYGON((27.270308 -70.038075,29.827866 -69.559027,57.550644 -73.687613,74.170361 -70.007713,113.825745 -77.132832,61.747238 -78.180552,27.270308 -70.038075))",
                hgc_coord: "POINT(65.606777 -72.239915)",
                hgc_skeletoncc: "",
                hgc_x: 65.606777,
                hgc_y: -72.239915,
                hgs_bbox:
                  "POLYGON((-65.178441 -72.52764,41.060835 -80.071732,15.328578 -64.552817,-47.311238 -67.40294,-65.178441 -72.52764))",
                hgs_boundcc:
                  "POLYGON((-55.851055 -70.038075,-53.293497 -69.559027,-25.570719 -73.687613,-8.951002 -70.007713,30.704382 -77.132832,-21.374125 -78.180552,-55.851055 -70.038075))",
                hgs_coord: "POINT(-17.514586 -72.239915)",
                hgs_skeletoncc: "",
                hgs_x: -17.514586,
                hgs_y: -72.239915,
                hpc_bbox: "POLYGON((-269.1 -950.1,108.3 -950.1,108.3 -903.9,-269.1 -903.9,-269.1 -950.1))",
                hpc_boundcc:
                  "POLYGON((-269.1 -911.1,-266.7 -910.5,-115.5 -937.5,-50.7 -929.1,108.3 -944.1,-71.1 -947.7,-269.1 -911.1))",
                hpc_coord: "POINT(-87.4736 -935.178)",
                hpc_geom:
                  "010300000001000000070000009A99999999D170C0CDCCCCCCCC788CC03333333333AB70C00000000000748CC00000000000E05CC000000000004C8DC09A999999995949C0CDCCCCCCCC088DC03333333333135B40CDCCCCCCCC808DC06666666666C651C09A999999999D8DC09A99999999D170C0CDCCCCCCCC788CC0",
                hpc_radius: "939.260093041836853",
                hpc_skeletoncc: "",
                hpc_x: -87.4736,
                hpc_y: -935.178,
                hrc_a: 174.65628165182,
                hrc_bbox:
                  "POLYGON((1.037114 164.186109,1.004323 186.502963,0.956129 186.832275,0.990517 163.421209,1.037114 164.186109))",
                hrc_boundcc:
                  "POLYGON((0.997767 163.545112,0.996451 163.673849,0.992073 172.976552,0.977258 176.876528,0.998063 186.543934,0.998138 175.709494,0.997767 163.545112))",
                hrc_coord: "POINT(0.986476809171241 174.65628165182)",
                hrc_r: 0.986476809171241,
                hrc_skeletoncc: "",
                hv_hpc_r_scaled: 947.1456237312678,
                hv_hpc_x_final: -89.90247064109666,
                hv_hpc_x_notscaled_rot: -89.1539809964914,
                hv_hpc_x_rot_delta_notscaled: -1.6803809964913938,
                hv_hpc_x_scaled_rot: -89.90247064109666,
                hv_hpc_y_final: -942.9563916452579,
                hv_hpc_y_notscaled_rot: -935.1057387162807,
                hv_hpc_y_rot_delta_notscaled: 0.07226128371928553,
                hv_hpc_y_scaled_rot: -942.9563916452579,
                hv_labels_formatted: {
                  "SPoCA Identifier": "SPoCA 26494"
                },
                hv_marker_offset_x: "48",
                hv_marker_offset_y: "13",
                hv_poly_height_max_zoom_pixels: 65.99252677750165,
                hv_poly_hpc_x_final: -273.053709799563,
                hv_poly_hpc_x_ul_scaled_norot: -271.3592212134743,
                hv_poly_hpc_x_ul_scaled_rot: -273.053709799563,
                hv_poly_hpc_y_final: 918.216944186328,
                hv_poly_hpc_y_ul_scaled_norot: 918.1440762351109,
                hv_poly_hpc_y_ul_scaled_rot: 918.216944186328,
                hv_poly_url:
                  "cache/events/2017/09/06/ivo%253A%252F%252Fhelio-informatics.org%252FCH_SPoCA_20170906_144025_20170906T142505_0.png",
                hv_poly_width_max_zoom_pixels: 632.924182,
                intensvar: null,
                kb_archivdate: "2017-09-06T14:40:28",
                kb_archivid: "ivo://helio-informatics.org/CH_SPoCA_20170906_144025_20170906T142505_0",
                kb_archivist: "eds",
                noposition: "false",
                obs_channelid: "AIA 193",
                obs_dataprepurl: "",
                obs_firstprocessingdate: "",
                obs_includesnrt: "T",
                obs_instrument: "AIA",
                obs_lastprocessingdate: "2017-09-06T14:35:23",
                obs_levelnum: 1.5,
                obs_meanwavel: 0.00000193,
                obs_observatory: "SDO",
                obs_title: "",
                obs_wavelunit: "cm",
                rasterscan: "",
                rasterscantype: "",
                refs: [
                  {
                    ref_name: "SSW Context Image",
                    ref_type: "image",
                    ref_url:
                      "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_074148_7388/www/ssw_cutout_193_context_full.gif"
                  },
                  {
                    ref_name: "FRM_URL",
                    ref_type: "unknown",
                    ref_url: "http://sdoatsidc.oma.be/web/sdoatsidc/SoftwareSPoCA"
                  },
                  {
                    ref_name: "OBS_DATAPREPURL",
                    ref_type: "unknown",
                    ref_url: "http://sdoatsidc.oma.be/web/sdoatsidc/SoftwareSPoCA"
                  },
                  {
                    ref_name: "SSW Context Thumbnail",
                    ref_type: "thumbnail",
                    ref_url:
                      "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_074148_7388/www/ssw_cutout_193_context_thumb.gif"
                  }
                ],
                refs_orig: "",
                revision: "1",
                search_channelid: "193",
                search_frm_name: "SPoCA",
                search_instrument: "AIA",
                search_observatory: "SDO",
                skel_chaincode: "",
                skel_nsteps: null,
                skel_startc1: null,
                skel_startc2: null,
                SOL_standard: "SOL2017-09-06T10:25:05L065C162",
                sum_overlap_scores: "0",
                hv_hpc_x: -89.90247064109666,
                hv_hpc_y: -942.9563916452579,
                label: "SPoCA 26494",
                version: "SPoCA_v1.0_CH_0000026494",
                id: "ivo://helio-informatics.org/CH_SPoCA_20170906_144025_20170906T142505_0",
                type: "CH",
                start: "2017-09-06T10:25:05",
                end: "2017-09-06T14:25:05"
              }
            ]
          }
        ];
      }
      if (x.name == "Active Region") {
        x.groups = [
          {
            name: "SPoCA",
            contact: "veronique.delouille@sidc.be",
            url: "http://sdoatsidc.oma.be/web/sdoatsidc/SoftwareSPoCA",
            data: [
              {
                absnetcurrenthelicity: null,
                active: "true",
                area_atdiskcenter: 1965280000,
                area_atdiskcenteruncert: 181762000,
                area_raw: 1717309952,
                area_uncert: 161655008,
                area_unit: "km2",
                ar_axislength: null,
                ar_compactnesscls: "",
                ar_lengthunit: "",
                ar_mcintoshcls: "",
                ar_mtwilsoncls: "",
                ar_neutrallength: null,
                ar_noaaclass: "",
                ar_noaanum: null,
                ar_numspots: null,
                ar_penumbracls: "",
                ar_pilcurvature: null,
                ar_polarity: null,
                ar_spotarearaw: null,
                ar_spotarearawuncert: null,
                ar_spotarearawunit: "",
                ar_spotarearepr: null,
                ar_spotarearepruncert: null,
                ar_spotareareprunit: "",
                ar_sumnegsignedflux: null,
                ar_sumpossignedflux: null,
                ar_zurichcls: "",
                boundbox_c1ll: -507.29998779296875,
                boundbox_c1ur: -392.1000061035156,
                boundbox_c2ll: 131.10000610351562,
                boundbox_c2ur: 208.5,
                bound_ccnsteps: 8,
                bound_ccstartc1: -507.29998779296875,
                bound_ccstartc2: 173.10000610351562,
                bound_chaincode:
                  "POLYGON((-507.3 173.1,-506.7 173.7,-452.1 182.1,-430.5 208.5,-392.7 177.9,-398.1 149.1,-448.5 132.9,-462.9 163.5,-507.3 173.1))",
                chaincodetype: "ordered list of points in HPC",
                comment_count: "0",
                concept: "Active Region",
                currentdensityunit: "",
                currenthelicityunit: "",
                currentunit: "",
                eventtype: "1",
                event_avg_rating: null,
                event_c1error: 7.8046698570251465,
                event_c2error: 3.347140073776245,
                event_clippedspatial: "F",
                event_clippedtemporal: "",
                event_coord1: -425.97900390625,
                event_coord2: 163.0290069580078,
                event_coord3: null,
                event_coordsys: "UTC-HPC-TOPO",
                event_coordunit: "arcsec,arcsec",
                event_description: "",
                event_endtime: "2017-09-06T14:25:22",
                event_expires: "",
                event_importance: null,
                event_importance_num_ratings: "",
                event_mapurl: "",
                event_maskurl: "",
                event_npixels: 8959,
                event_pixelunit: "DN/s",
                event_probability: null,
                event_score: "0.0332956098383887997",
                event_starttime: "2017-09-06T10:25:22",
                event_testflag: "false",
                event_title: "",
                event_type: "AR",
                frm_contact: "veronique.delouille@sidc.be",
                frm_daterun: "2017-09-06T14:40:54",
                frm_humanflag: "false",
                frm_identifier: "vdelouille",
                frm_institute: "ROB",
                frm_name: "SPoCA",
                frm_paramset:
                  "image171 : calibrated image 171 A ; image195 : calibrated image 195/193 A; spocaPreprocessing=DivExpTime,ALC,DivMedian; spocaClassifierType=HPCM2; spocaNumberclasses=4; spocaChannels=[AIA_171,AIA_193]; spocaPrecision=0.00150000; spocaRadiusRatio=1.20; spocaBinsize=0.01,0.01; spocaSegmentationType=threshold; spocaVersion=2.00; intensitiesStatsPreprocessing=NAR,DivExpTime; intensitiesStatsRadiusRatio=0.95; trackingDeltat=36000; trackingOverlap=2; trackingNumberImages=6; spocaCenters=(0.6012,0.6469),(1.1241,1.0336),(3.2982,5.1790),(8.4404,16.3583)",
                frm_specificid: "SPoCA_v1.0_AR_0000021090",
                frm_url: "http://sdoatsidc.oma.be/web/sdoatsidc/SoftwareSPoCA",
                frm_versionnumber: 1,
                gradientunit: "",
                gs_galleryid: "",
                gs_imageurl:
                  "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_084048_14852/www/ssw_cutout_171_context_full.gif",
                gs_movieurl:
                  "http://sdowww.lmsal.com/sdomedia/h264/2017/09/06/EDS_SPoCA_20170906T092522-20170906T152522_AIA_171-193_XCEN-425.979YCEN163.029.mov",
                gs_thumburl:
                  "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_084048_14852/www/ssw_cutout_171_context_thumb.gif",
                gwill: null,
                gwillunit: "",
                hcr_checked: "true",
                hgc_bbox:
                  "POLYGON((49.961585 13.977928,58.062069 14.46241,57.387646 19.149565,49.050233 18.644738,49.961585 13.977928))",
                hgc_boundcc:
                  "POLYGON((49.506467 16.504061,49.543831 16.543264,53.425029 17.305798,54.676097 18.999685,57.640344 17.28711,57.514647 15.525839,54.154535 14.353401,52.847324 16.134514,49.506467 16.504061))",
                hgc_coord: "POINT(55.464011 16.260898)",
                hgc_x: 55.464011,
                hgc_y: 16.260898,
                hgs_bbox:
                  "POLYGON((-33.157179 13.977928,-25.056695 14.46241,-25.731118 19.149565,-34.068531 18.644738,-33.157179 13.977928))",
                hgs_boundcc:
                  "POLYGON((-33.612297 16.504061,-33.574933 16.543264,-29.693735 17.305798,-28.442667 18.999685,-25.47842 17.28711,-25.604117 15.525839,-28.964229 14.353401,-30.27144 16.134514,-33.612297 16.504061))",
                hgs_coord: "POINT(-27.654753 16.260898)",
                hgs_x: -27.654753,
                hgs_y: 16.260898,
                highsheararea: null,
                highshearareapercent: null,
                highshearareaunit: "",
                hpc_bbox: "POLYGON((-507.3 131.1,-392.1 131.1,-392.1 208.5,-507.3 208.5,-507.3 131.1))",
                hpc_boundcc:
                  "POLYGON((-507.3 173.1,-506.7 173.7,-452.1 182.1,-430.5 208.5,-392.7 177.9,-398.1 149.1,-448.5 132.9,-462.9 163.5,-507.3 173.1))",
                hpc_coord: "POINT(-425.979 163.029)",
                hpc_geom:
                  "01030000000100000009000000CDCCCCCCCCB47FC03333333333A365403333333333AB7FC06666666666B665409A99999999417CC03333333333C366400000000000E87AC00000000000106A4033333333338B78C0CDCCCCCCCC3C66409A99999999E178C03333333333A362400000000000087CC0CDCCCCCCCC9C60406666666666EE7CC00000000000706440CDCCCCCCCCB47FC03333333333A36540",
                hpc_radius: "456.110253427830742",
                hpc_x: -425.979,
                hpc_y: 163.029,
                hrc_a: 69.0573494500118,
                hrc_bbox:
                  "POLYGON((0.550306 75.510237,0.43422 71.512462,0.466413 61.998094,0.576048 67.657367,0.550306 75.510237))",
                hrc_boundcc:
                  "POLYGON((0.562965 71.159424,0.562573 71.077957,0.511897 68.061065,0.502379 64.158139,0.452789 65.628638,0.446475 69.467617,0.491291 73.494334,0.515605 70.54637,0.562965 71.159424))",
                hrc_coord: "POINT(0.479038944736355 69.0573494500118)",
                hrc_r: 0.479038944736355,
                hv_hpc_r_scaled: 459.9395137443436,
                hv_hpc_x_final: -436.35724893655697,
                hv_hpc_x_notscaled_rot: -432.72432450357536,
                hv_hpc_x_rot_delta_notscaled: -6.745324503575375,
                hv_hpc_x_scaled_rot: -436.35724893655697,
                hv_hpc_y_final: 164.85236302240853,
                hv_hpc_y_notscaled_rot: 163.47987252541685,
                hv_hpc_y_rot_delta_notscaled: 0.4508725254168553,
                hv_hpc_y_scaled_rot: 164.85236302240853,
                hv_labels_formatted: {
                  "SPoCA Identifier": "SPoCA 21090"
                },
                hv_marker_offset_x: "37",
                hv_marker_offset_y: "0",
                hv_poly_height_max_zoom_pixels: 129.98481248329574,
                hv_poly_hpc_x_final: -518.3609770552539,
                hv_poly_hpc_x_ul_scaled_norot: -511.5590223767385,
                hv_poly_hpc_x_ul_scaled_rot: -518.3609770552539,
                hv_poly_hpc_y_final: -209.79579786565748,
                hv_poly_hpc_y_ul_scaled_norot: -210.25045567819825,
                hv_poly_hpc_y_ul_scaled_rot: -209.79579786565748,
                hv_poly_url:
                  "cache/events/2017/09/06/ivo%253A%252F%252Fhelio-informatics.org%252FAR_SPoCA_20170906_144054_20170906T142522_2.png",
                hv_poly_width_max_zoom_pixels: 194.97697765324992,
                hv_rot_hpc_time_base: "2017-09-06T10:25:22",
                hv_rot_hpc_time_targ: "2017-09-06T13:33:06.000Z",
                intenskurt: 3.466639995574951,
                intensmax: 5896.47021484375,
                intensmean: 1158.800048828125,
                intensmedian: 1040.9100341796875,
                intensmin: 441.4599914550781,
                intensskew: 1.228060007095337,
                intenstotal: 10381700,
                intensunit: "DN/s",
                intensvar: 210449,
                kb_archivdate: "2017-09-06T14:40:57",
                kb_archivid: "ivo://helio-informatics.org/AR_SPoCA_20170906_144054_20170906T142522_2",
                kb_archivist: "eds",
                log_r_value: null,
                magfluxunit: "",
                maxmagfieldstrength: null,
                maxmagfieldstrengthunit: "",
                meancurrenthelicity: null,
                meanenergydensityunit: "",
                meangradienthorz: null,
                meangradienttotal: null,
                meangradientvert: null,
                meaninclinationgamma: null,
                meanphotoenergydensity: null,
                meanshearangle: null,
                meantwistalpha: null,
                meanvertcurrentdensity: null,
                noposition: "false",
                obs_channelid: "AIA 171, AIA 193",
                obs_dataprepurl: "",
                obs_firstprocessingdate: "",
                obs_includesnrt: "T",
                obs_instrument: "AIA",
                obs_lastprocessingdate: "2017-09-06T14:34:49",
                obs_levelnum: 1.5,
                obs_meanwavel: 0.00000171,
                obs_observatory: "SDO",
                obs_title: "",
                obs_wavelunit: "cm",
                rasterscan: "",
                rasterscantype: "",
                refs: [
                  {
                    ref_name: "FRM_URL",
                    ref_type: "unknown",
                    ref_url: "http://sdoatsidc.oma.be/web/sdoatsidc/SoftwareSPoCA"
                  },
                  {
                    ref_name: "OBS_DATAPREPURL",
                    ref_type: "unknown",
                    ref_url: "http://sdoatsidc.oma.be/web/sdoatsidc/SoftwareSPoCA"
                  },
                  {
                    ref_name: "SDO Movie",
                    ref_type: "movie",
                    ref_url:
                      "http://sdowww.lmsal.com/sdomedia/h264/2017/09/06/EDS_SPoCA_20170906T092522-20170906T152522_AIA_171-193_XCEN-425.979YCEN163.029.mov"
                  },
                  {
                    ref_name: "SSW Context Image",
                    ref_type: "image",
                    ref_url:
                      "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_084048_14852/www/ssw_cutout_171_context_full.gif"
                  },
                  {
                    ref_name: "SSW Context Thumbnail",
                    ref_type: "thumbnail",
                    ref_url:
                      "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_084048_14852/www/ssw_cutout_171_context_thumb.gif"
                  }
                ],
                refs_orig: "",
                revision: "1",
                savncpp: null,
                search_channelid: "171,193",
                search_frm_name: "SPoCA",
                search_instrument: "AIA",
                search_observatory: "SDO",
                sharp_noaa_ars: "",
                SOL_standard: "SOL2017-09-06T10:25:22L055C074",
                sum_overlap_scores: "0.965416666666666701",
                totalenergydensityunit: "",
                totalphotoenergy: null,
                totalphotoenergydensity: null,
                totalphotoenergyunit: "",
                twistunit: "",
                unsignedcurrenthelicity: null,
                unsignedflux: null,
                unsignedvertcurrent: null,
                hv_hpc_x: -436.35724893655697,
                hv_hpc_y: 164.85236302240853,
                label: "SPoCA 21090",
                version: "SPoCA_v1.0_AR_0000021090",
                id: "ivo://helio-informatics.org/AR_SPoCA_20170906_144054_20170906T142522_2",
                type: "AR",
                start: "2017-09-06T10:25:22",
                end: "2017-09-06T14:25:22"
              },
              {
                absnetcurrenthelicity: null,
                active: "true",
                area_atdiskcenter: 1023900032,
                area_atdiskcenteruncert: 98972800,
                area_raw: 957966016,
                area_uncert: 95072704,
                area_unit: "km2",
                ar_axislength: null,
                ar_compactnesscls: "",
                ar_lengthunit: "",
                ar_mcintoshcls: "",
                ar_mtwilsoncls: "",
                ar_neutrallength: null,
                ar_noaaclass: "",
                ar_noaanum: null,
                ar_numspots: null,
                ar_penumbracls: "",
                ar_pilcurvature: null,
                ar_polarity: null,
                ar_spotarearaw: null,
                ar_spotarearawuncert: null,
                ar_spotarearawunit: "",
                ar_spotarearepr: null,
                ar_spotarearepruncert: null,
                ar_spotareareprunit: "",
                ar_sumnegsignedflux: null,
                ar_sumpossignedflux: null,
                ar_zurichcls: "",
                boundbox_c1ll: 285.8999938964844,
                boundbox_c1ur: 333.29998779296875,
                boundbox_c2ll: 96.9000015258789,
                boundbox_c2ur: 169.5,
                bound_ccnsteps: 5,
                bound_ccstartc1: 285.8999938964844,
                bound_ccstartc2: 147.3000030517578,
                bound_chaincode: "POLYGON((285.9 147.3,286.5 147.9,314.1 169.5,334.5 112.5,288.3 96.9,285.9 147.3))",
                chaincodetype: "ordered list of points in HPC",
                comment_count: "0",
                concept: "Active Region",
                currentdensityunit: "",
                currenthelicityunit: "",
                currentunit: "",
                eventtype: "1",
                event_avg_rating: null,
                event_c1error: 5.759119987487793,
                event_c2error: 2.800230026245117,
                event_clippedspatial: "F",
                event_clippedtemporal: "",
                event_coord1: 309.06201171875,
                event_coord2: 131.927001953125,
                event_coord3: null,
                event_coordsys: "UTC-HPC-TOPO",
                event_coordunit: "arcsec,arcsec",
                event_description: "",
                event_endtime: "2017-09-06T14:25:22",
                event_expires: "",
                event_importance: null,
                event_importance_num_ratings: "",
                event_mapurl: "",
                event_maskurl: "",
                event_npixels: 4997,
                event_pixelunit: "DN/s",
                event_probability: null,
                event_score: "0.0173468289398893832",
                event_starttime: "2017-09-06T10:25:22",
                event_testflag: "false",
                event_title: "",
                event_type: "AR",
                frm_contact: "veronique.delouille@sidc.be",
                frm_daterun: "2017-09-06T14:40:54",
                frm_humanflag: "false",
                frm_identifier: "vdelouille",
                frm_institute: "ROB",
                frm_name: "SPoCA",
                frm_paramset:
                  "image171 : calibrated image 171 A ; image195 : calibrated image 195/193 A; spocaPreprocessing=DivExpTime,ALC,DivMedian; spocaClassifierType=HPCM2; spocaNumberclasses=4; spocaChannels=[AIA_171,AIA_193]; spocaPrecision=0.00150000; spocaRadiusRatio=1.20; spocaBinsize=0.01,0.01; spocaSegmentationType=threshold; spocaVersion=2.00; intensitiesStatsPreprocessing=NAR,DivExpTime; intensitiesStatsRadiusRatio=0.95; trackingDeltat=36000; trackingOverlap=2; trackingNumberImages=6; spocaCenters=(0.6012,0.6469),(1.1241,1.0336),(3.2982,5.1790),(8.4404,16.3583)",
                frm_specificid: "SPoCA_v1.0_AR_0000021080",
                frm_url: "http://sdoatsidc.oma.be/web/sdoatsidc/SoftwareSPoCA",
                frm_versionnumber: 1,
                gradientunit: "",
                gs_galleryid: "",
                gs_imageurl:
                  "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_084048_14848/www/ssw_cutout_171_context_full.gif",
                gs_movieurl:
                  "http://sdowww.lmsal.com/sdomedia/h264/2017/09/06/EDS_SPoCA_20170906T092522-20170906T152522_AIA_171-193_XCEN309.062YCEN131.927.mov",
                gs_thumburl:
                  "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_084048_14848/www/ssw_cutout_171_context_thumb.gif",
                gwill: null,
                gwillunit: "",
                hcr_checked: "true",
                hgc_bbox:
                  "POLYGON((100.96581 12.720278,104.043447 12.594281,104.491923 16.973456,101.347054 17.103268,100.96581 12.720278))",
                hgc_boundcc:
                  "POLYGON((101.216566 15.758236,101.259114 15.793035,103.211232 17.028723,104.205983 13.528489,101.120375 12.714412,101.216566 15.758236))",
                hgc_coord: "POINT(102.644959 14.76991)",
                hgc_x: 102.644959,
                hgc_y: 14.76991,
                hgs_bbox:
                  "POLYGON((17.847046 12.720278,20.924683 12.594281,21.373159 16.973456,18.22829 17.103268,17.847046 12.720278))",
                hgs_boundcc:
                  "POLYGON((18.097802 15.758236,18.14035 15.793035,20.092468 17.028723,21.087219 13.528489,18.001611 12.714412,18.097802 15.758236))",
                hgs_coord: "POINT(19.526195 14.76991)",
                hgs_x: 19.526195,
                hgs_y: 14.76991,
                highsheararea: null,
                highshearareapercent: null,
                highshearareaunit: "",
                hpc_bbox: "POLYGON((285.9 96.9,333.3 96.9,333.3 169.5,285.9 169.5,285.9 96.9))",
                hpc_boundcc: "POLYGON((285.9 147.3,286.5 147.9,314.1 169.5,334.5 112.5,288.3 96.9,285.9 147.3))",
                hpc_coord: "POINT(309.062 131.927)",
                hpc_geom:
                  "010300000001000000060000006666666666DE71409A999999996962400000000000E87140CDCCCCCCCC7C62409A99999999A1734000000000003065400000000000E874400000000000205C40CDCCCCCCCC0472409A999999993958406666666666DE71409A99999999696240",
                hpc_radius: "336.041743200156645",
                hpc_x: 309.062,
                hpc_y: 131.927,
                hrc_a: 293.115822028189,
                hrc_bbox:
                  "POLYGON((0.31705 288.723046,0.364549 286.210684,0.392721 296.955651,0.349077 300.662203,0.31705 288.723046))",
                hrc_boundcc:
                  "POLYGON((0.337782 297.258208,0.338631 297.304157,0.374858 298.352944,0.370652 288.588969,0.319438 288.57792,0.337782 297.258208))",
                hrc_coord: "POINT(0.352934582900008 293.115822028189)",
                hrc_r: 0.352934582900008,
                hv_hpc_r_scaled: 338.8629718444537,
                hv_hpc_x_final: 304.3142076152726,
                hv_hpc_x_notscaled_rot: 301.7806172536061,
                hv_hpc_x_rot_delta_notscaled: -7.281382746393888,
                hv_hpc_x_scaled_rot: 304.3142076152726,
                hv_hpc_y_final: 132.71376514267075,
                hv_hpc_y_notscaled_rot: 131.60884691075228,
                hv_hpc_y_rot_delta_notscaled: -0.31815308924771557,
                hv_hpc_y_scaled_rot: 132.71376514267075,
                hv_labels_formatted: {
                  "SPoCA Identifier": "SPoCA 21080"
                },
                hv_marker_offset_x: "-6",
                hv_marker_offset_y: "9",
                hv_poly_height_max_zoom_pixels: 124.98541516253002,
                hv_poly_hpc_x_final: 280.95775174154437,
                hv_poly_hpc_x_ul_scaled_norot: 288.3002651242056,
                hv_poly_hpc_x_ul_scaled_rot: 280.95775174154437,
                hv_poly_hpc_y_final: -171.24385644815095,
                hv_poly_hpc_y_ul_scaled_norot: -170.92303231393095,
                hv_poly_hpc_y_ul_scaled_rot: -171.24385644815095,
                hv_poly_url:
                  "cache/events/2017/09/06/ivo%253A%252F%252Fhelio-informatics.org%252FAR_SPoCA_20170906_144054_20170906T142522_1.png",
                hv_poly_width_max_zoom_pixels: 84.9902365964045,
                hv_rot_hpc_time_base: "2017-09-06T10:25:22",
                hv_rot_hpc_time_targ: "2017-09-06T13:33:06.000Z",
                intenskurt: 0.48885300755500793,
                intensmax: 2295.7900390625,
                intensmean: 960.7579956054688,
                intensmedian: 912.9169921875,
                intensmin: 379.96600341796875,
                intensskew: 0.7693189978599548,
                intenstotal: 4800910,
                intensunit: "DN/s",
                intensvar: 81401.8984375,
                kb_archivdate: "2017-09-06T14:40:56",
                kb_archivid: "ivo://helio-informatics.org/AR_SPoCA_20170906_144054_20170906T142522_1",
                kb_archivist: "eds",
                log_r_value: null,
                magfluxunit: "",
                maxmagfieldstrength: null,
                maxmagfieldstrengthunit: "",
                meancurrenthelicity: null,
                meanenergydensityunit: "",
                meangradienthorz: null,
                meangradienttotal: null,
                meangradientvert: null,
                meaninclinationgamma: null,
                meanphotoenergydensity: null,
                meanshearangle: null,
                meantwistalpha: null,
                meanvertcurrentdensity: null,
                noposition: "false",
                obs_channelid: "AIA 171, AIA 193",
                obs_dataprepurl: "",
                obs_firstprocessingdate: "",
                obs_includesnrt: "T",
                obs_instrument: "AIA",
                obs_lastprocessingdate: "2017-09-06T14:34:49",
                obs_levelnum: 1.5,
                obs_meanwavel: 0.00000171,
                obs_observatory: "SDO",
                obs_title: "",
                obs_wavelunit: "cm",
                rasterscan: "",
                rasterscantype: "",
                refs: [
                  {
                    ref_name: "FRM_URL",
                    ref_type: "unknown",
                    ref_url: "http://sdoatsidc.oma.be/web/sdoatsidc/SoftwareSPoCA"
                  },
                  {
                    ref_name: "OBS_DATAPREPURL",
                    ref_type: "unknown",
                    ref_url: "http://sdoatsidc.oma.be/web/sdoatsidc/SoftwareSPoCA"
                  },
                  {
                    ref_name: "SDO Movie",
                    ref_type: "movie",
                    ref_url:
                      "http://sdowww.lmsal.com/sdomedia/h264/2017/09/06/EDS_SPoCA_20170906T092522-20170906T152522_AIA_171-193_XCEN309.062YCEN131.927.mov"
                  },
                  {
                    ref_name: "SSW Context Image",
                    ref_type: "image",
                    ref_url:
                      "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_084048_14848/www/ssw_cutout_171_context_full.gif"
                  },
                  {
                    ref_name: "SSW Context Thumbnail",
                    ref_type: "thumbnail",
                    ref_url:
                      "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_084048_14848/www/ssw_cutout_171_context_thumb.gif"
                  }
                ],
                refs_orig: "",
                revision: "1",
                savncpp: null,
                search_channelid: "171,193",
                search_frm_name: "SPoCA",
                search_instrument: "AIA",
                search_observatory: "SDO",
                sharp_noaa_ars: "",
                SOL_standard: "SOL2017-09-06T10:25:22L102C076",
                sum_overlap_scores: "0",
                totalenergydensityunit: "",
                totalphotoenergy: null,
                totalphotoenergydensity: null,
                totalphotoenergyunit: "",
                twistunit: "",
                unsignedcurrenthelicity: null,
                unsignedflux: null,
                unsignedvertcurrent: null,
                hv_hpc_x: 304.3142076152726,
                hv_hpc_y: 132.71376514267075,
                label: "SPoCA 21080",
                version: "SPoCA_v1.0_AR_0000021080",
                id: "ivo://helio-informatics.org/AR_SPoCA_20170906_144054_20170906T142522_1",
                type: "AR",
                start: "2017-09-06T10:25:22",
                end: "2017-09-06T14:25:22"
              },
              {
                absnetcurrenthelicity: null,
                active: "true",
                area_atdiskcenter: 14200200192,
                area_atdiskcenteruncert: 458434016,
                area_raw: 10320499712,
                area_uncert: 355638016,
                area_unit: "km2",
                ar_axislength: null,
                ar_compactnesscls: "",
                ar_lengthunit: "",
                ar_mcintoshcls: "",
                ar_mtwilsoncls: "",
                ar_neutrallength: null,
                ar_noaaclass: "",
                ar_noaanum: null,
                ar_numspots: null,
                ar_penumbracls: "",
                ar_pilcurvature: null,
                ar_polarity: null,
                ar_spotarearaw: null,
                ar_spotarearawuncert: null,
                ar_spotarearawunit: "",
                ar_spotarearepr: null,
                ar_spotarearepruncert: null,
                ar_spotareareprunit: "",
                ar_sumnegsignedflux: null,
                ar_sumpossignedflux: null,
                ar_zurichcls: "",
                boundbox_c1ll: 477.29998779296875,
                boundbox_c1ur: 739.5,
                boundbox_c2ll: -351.8999938964844,
                boundbox_c2ur: -120.9000015258789,
                bound_ccnsteps: 13,
                bound_ccstartc1: 477.29998779296875,
                bound_ccstartc2: -326.1000061035156,
                bound_chaincode:
                  "POLYGON((477.3 -326.1,477.9 -325.5,491.7 -271.5,514.5 -248.1,621.3 -179.1,676.5 -194.7,707.7 -123.9,722.7 -122.1,739.5 -147.3,689.1 -235.5,583.5 -278.1,563.1 -349.5,506.1 -351.9,477.3 -326.1))",
                chaincodetype: "ordered list of points in HPC",
                comment_count: "0",
                concept: "Active Region",
                currentdensityunit: "",
                currenthelicityunit: "",
                currentunit: "",
                eventtype: "1",
                event_avg_rating: null,
                event_c1error: 10.537300109863281,
                event_c2error: 4.711460113525391,
                event_clippedspatial: "F",
                event_clippedtemporal: "",
                event_coord1: 600.6589965820312,
                event_coord2: -237.49099731445312,
                event_coord3: null,
                event_coordsys: "UTC-HPC-TOPO",
                event_coordunit: "arcsec,arcsec",
                event_description: "",
                event_endtime: "2017-09-06T14:25:22",
                event_expires: "",
                event_importance: null,
                event_importance_num_ratings: "",
                event_mapurl: "",
                event_maskurl: "",
                event_npixels: 53836,
                event_pixelunit: "DN/s",
                event_probability: null,
                event_score: "0.240578607231461017",
                event_starttime: "2017-09-06T10:25:22",
                event_testflag: "false",
                event_title: "",
                event_type: "AR",
                frm_contact: "veronique.delouille@sidc.be",
                frm_daterun: "2017-09-06T14:40:54",
                frm_humanflag: "false",
                frm_identifier: "vdelouille",
                frm_institute: "ROB",
                frm_name: "SPoCA",
                frm_paramset:
                  "image171 : calibrated image 171 A ; image195 : calibrated image 195/193 A; spocaPreprocessing=DivExpTime,ALC,DivMedian; spocaClassifierType=HPCM2; spocaNumberclasses=4; spocaChannels=[AIA_171,AIA_193]; spocaPrecision=0.00150000; spocaRadiusRatio=1.20; spocaBinsize=0.01,0.01; spocaSegmentationType=threshold; spocaVersion=2.00; intensitiesStatsPreprocessing=NAR,DivExpTime; intensitiesStatsRadiusRatio=0.95; trackingDeltat=36000; trackingOverlap=2; trackingNumberImages=6; spocaCenters=(0.6012,0.6469),(1.1241,1.0336),(3.2982,5.1790),(8.4404,16.3583)",
                frm_specificid: "SPoCA_v1.0_AR_0000021094",
                frm_url: "http://sdoatsidc.oma.be/web/sdoatsidc/SoftwareSPoCA",
                frm_versionnumber: 1,
                gradientunit: "",
                gs_galleryid: "",
                gs_imageurl:
                  "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_084048_14844/www/ssw_cutout_171_context_full.gif",
                gs_movieurl:
                  "http://sdowww.lmsal.com/sdomedia/h264/2017/09/06/EDS_SPoCA_20170906T092522-20170906T152522_AIA_171-193_XCEN600.659YCEN-237.491.mov",
                gs_thumburl:
                  "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_084048_14844/www/ssw_cutout_171_context_thumb.gif",
                gwill: null,
                gwillunit: "",
                hcr_checked: "true",
                hgc_bbox:
                  "POLYGON((114.330632 -15.450572,137.460941 -17.517779,133.95306 -2.718331,113.077952 -0.994573,114.330632 -15.450572))",
                hgc_boundcc:
                  "POLYGON((114.065039 -13.772822,114.102997 -13.737031,114.652916 -10.356305,116.148244 -8.998876,123.898317 -5.342923,128.613414 -6.717801,131.00245 -2.613605,132.370373 -2.635717,134.078079 -4.338872,130.119532 -9.383149,121.640581 -11.296444,120.892743 -15.78854,116.481009 -15.603207,114.065039 -13.772822))",
                hgc_coord: "POINT(122.632422 -8.8391326)",
                hgc_x: 122.632422,
                hgc_y: -8.8391326,
                hgs_bbox:
                  "POLYGON((31.211868 -15.450572,54.342177 -17.517779,50.834296 -2.718331,29.959188 -0.994573,31.211868 -15.450572))",
                hgs_boundcc:
                  "POLYGON((30.946275 -13.772822,30.984233 -13.737031,31.534152 -10.356305,33.02948 -8.998876,40.779553 -5.342923,45.49465 -6.717801,47.883686 -2.613605,49.251609 -2.635717,50.959315 -4.338872,47.000768 -9.383149,38.521817 -11.296444,37.773979 -15.78854,33.362245 -15.603207,30.946275 -13.772822))",
                hgs_coord: "POINT(39.513658 -8.8391326)",
                hgs_x: 39.513658,
                hgs_y: -8.8391326,
                highsheararea: null,
                highshearareapercent: null,
                highshearareaunit: "",
                hpc_bbox: "POLYGON((477.3 -351.9,739.5 -351.9,739.5 -120.9,477.3 -120.9,477.3 -351.9))",
                hpc_boundcc:
                  "POLYGON((477.3 -326.1,477.9 -325.5,491.7 -271.5,514.5 -248.1,621.3 -179.1,676.5 -194.7,707.7 -123.9,722.7 -122.1,739.5 -147.3,689.1 -235.5,583.5 -278.1,563.1 -349.5,506.1 -351.9,477.3 -326.1))",
                hpc_coord: "POINT(600.659 -237.491)",
                hpc_geom:
                  "0103000000010000000E000000CDCCCCCCCCD47D409A999999996174C06666666666DE7D4000000000005874C03333333333BB7E400000000000F870C000000000001480403333333333036FC066666666666A834033333333336366C0000000000024854066666666665668C09A999999991D86409A99999999F95EC09A999999999586406666666666865EC000000000001C87409A999999996962C0CDCCCCCCCC8885400000000000706DC000000000003C82409A999999996171C0CDCCCCCCCC9881400000000000D875C09A99999999A17F406666666666FE75C0CDCCCCCCCCD47D409A999999996174C0",
                hpc_radius: "645.90495381441383",
                hpc_x: 600.659,
                hpc_y: -237.491,
                hrc_a: 248.426947020524,
                hrc_bbox:
                  "POLYGON((0.62281 233.599682,0.860128 244.551995,0.786986 260.714923,0.517126 255.785951,0.62281 233.599682))",
                hrc_boundcc:
                  "POLYGON((0.607122 235.658404,0.607287 235.741034,0.589913 241.094015,0.599909 244.255903,0.679104 253.919499,0.739349 253.943923,0.754581 260.06963,0.769787 260.410448,0.791933 258.734774,0.764838 251.132131,0.678877 244.517219,0.696062 238.173313,0.647405 235.188449,0.607122 235.658404))",
                hrc_coord: "POINT(0.678374636724098 248.426947020524)",
                hrc_r: 0.678374636724098,
                hv_hpc_r_scaled: 651.3276299969654,
                hv_hpc_x_final: 599.5255366855985,
                hv_hpc_x_notscaled_rot: 594.53414264842,
                hv_hpc_x_rot_delta_notscaled: -6.124857351579976,
                hv_hpc_x_scaled_rot: 599.5255366855985,
                hv_hpc_y_final: -240.12880201192175,
                hv_hpc_y_notscaled_rot: -238.1295919746925,
                hv_hpc_y_rot_delta_notscaled: -0.6385919746924742,
                hv_hpc_y_scaled_rot: -240.12880201192175,
                hv_labels_formatted: {
                  "SPoCA Identifier": "SPoCA 21094"
                },
                hv_marker_offset_x: "-131",
                hv_marker_offset_y: "100",
                hv_poly_height_max_zoom_pixels: 386.9538347706529,
                hv_poly_hpc_x_final: 475.1308798377191,
                hv_poly_hpc_x_ul_scaled_norot: 481.307158250379,
                hv_poly_hpc_x_ul_scaled_rot: 475.1308798377191,
                hv_poly_hpc_y_final: 122.48113373931068,
                hv_poly_hpc_y_ul_scaled_norot: 123.125086994283,
                hv_poly_hpc_y_ul_scaled_rot: 122.48113373931068,
                hv_poly_url:
                  "cache/events/2017/09/06/ivo%253A%252F%252Fhelio-informatics.org%252FAR_SPoCA_20170906_144054_20170906T142522_0.png",
                hv_poly_width_max_zoom_pixels: 440.9473258349226,
                hv_rot_hpc_time_base: "2017-09-06T10:25:22",
                hv_rot_hpc_time_targ: "2017-09-06T13:33:06.000Z",
                intenskurt: 9.507160186767578,
                intensmax: 8190.759765625,
                intensmean: 1462.239990234375,
                intensmedian: 1062.4000244140625,
                intensmin: 227.47900390625,
                intensskew: 2.858910083770752,
                intenstotal: 78721000,
                intensunit: "DN/s",
                intensvar: 1670640,
                kb_archivdate: "2017-09-06T14:40:56",
                kb_archivid: "ivo://helio-informatics.org/AR_SPoCA_20170906_144054_20170906T142522_0",
                kb_archivist: "eds",
                log_r_value: null,
                magfluxunit: "",
                maxmagfieldstrength: null,
                maxmagfieldstrengthunit: "",
                meancurrenthelicity: null,
                meanenergydensityunit: "",
                meangradienthorz: null,
                meangradienttotal: null,
                meangradientvert: null,
                meaninclinationgamma: null,
                meanphotoenergydensity: null,
                meanshearangle: null,
                meantwistalpha: null,
                meanvertcurrentdensity: null,
                noposition: "false",
                obs_channelid: "AIA 171, AIA 193",
                obs_dataprepurl: "",
                obs_firstprocessingdate: "",
                obs_includesnrt: "T",
                obs_instrument: "AIA",
                obs_lastprocessingdate: "2017-09-06T14:34:49",
                obs_levelnum: 1.5,
                obs_meanwavel: 0.00000171,
                obs_observatory: "SDO",
                obs_title: "",
                obs_wavelunit: "cm",
                rasterscan: "",
                rasterscantype: "",
                refs: [
                  {
                    ref_name: "FRM_URL",
                    ref_type: "unknown",
                    ref_url: "http://sdoatsidc.oma.be/web/sdoatsidc/SoftwareSPoCA"
                  },
                  {
                    ref_name: "OBS_DATAPREPURL",
                    ref_type: "unknown",
                    ref_url: "http://sdoatsidc.oma.be/web/sdoatsidc/SoftwareSPoCA"
                  },
                  {
                    ref_name: "SDO Movie",
                    ref_type: "movie",
                    ref_url:
                      "http://sdowww.lmsal.com/sdomedia/h264/2017/09/06/EDS_SPoCA_20170906T092522-20170906T152522_AIA_171-193_XCEN600.659YCEN-237.491.mov"
                  },
                  {
                    ref_name: "SSW Context Image",
                    ref_type: "image",
                    ref_url:
                      "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_084048_14844/www/ssw_cutout_171_context_full.gif"
                  },
                  {
                    ref_name: "SSW Context Thumbnail",
                    ref_type: "thumbnail",
                    ref_url:
                      "http://sdowww.lmsal.com/sdomedia/ssw/media/ssw/ssw_client/data/ssw_service_170906_084048_14844/www/ssw_cutout_171_context_thumb.gif"
                  }
                ],
                refs_orig: "",
                revision: "1",
                savncpp: null,
                search_channelid: "171,193",
                search_frm_name: "SPoCA",
                search_instrument: "AIA",
                search_observatory: "SDO",
                sharp_noaa_ars: "",
                SOL_standard: "SOL2017-09-06T10:25:22L122C098",
                sum_overlap_scores: "0.888074480820802981",
                totalenergydensityunit: "",
                totalphotoenergy: null,
                totalphotoenergydensity: null,
                totalphotoenergyunit: "",
                twistunit: "",
                unsignedcurrenthelicity: null,
                unsignedflux: null,
                unsignedvertcurrent: null,
                hv_hpc_x: 599.5255366855985,
                hv_hpc_y: -240.12880201192175,
                label: "SPoCA 21094",
                version: "SPoCA_v1.0_AR_0000021094",
                id: "ivo://helio-informatics.org/AR_SPoCA_20170906_144054_20170906T142522_0",
                type: "AR",
                start: "2017-09-06T10:25:22",
                end: "2017-09-06T14:25:22"
              }
            ]
          }
        ];
      }
      return x;
    });

    await route.fulfill({
      json: mockedJson
    });
  });

  // load helioviewer
  let hv = new Helioviewer(page);

  // Action 1 : BROWSE TO HELIOVIEWER
  await hv.Load();
  await hv.CloseAllNotifications();

  // Action 2 : Open left sources panel
  await hv.OpenSidebar();

  const eventTree = hv.parseTree("HEK");

  // Action 3 : Open branch for spoca to see its childrens
  await eventTree.toggleBranchFRM("Coronal Hole", "SPoCA");

  expect(await eventTree.frmHasEventInstance("Coronal Hole", "SPoCA", "SPoCA 26505")).toBe(true);

  // Action 4: Check event instance node "Topological Object 332.66,52.80" to see event marker attached to it
  await eventTree.toggleCheckEventInstance("Coronal Hole", "SPoCA", "SPoCA 26505");

  await eventTree.assertEventVisible("SPoCA 26505");

  // Action 5: Check FRM node of "SPoCA" under "Active Region"
  await eventTree.toggleCheckFRM("Active Region", "SPoCA");

  await eventTree.assertEventVisible("SPoCA 26505");
  await eventTree.assertEventVisible("SPoCA 21090");
  await eventTree.assertEventVisible("SPoCA 21080");
  await eventTree.assertEventVisible("SPoCA 21094");
  await eventTree.assertEventNotVisible("SPoCA 26458");

  // Action 6: Open FRM node of "SPoCA" under "Active Region"
  await eventTree.toggleBranchFRM("Active Region", "SPoCA");

  // Action 7: Hover on our logo , to test hovering affects of event markers
  await hv.HoverOnLogo();

  // Assert no markers should be highlighted
  await eventTree.assertEventNotHighlighted("SPoCA 26505");
  await eventTree.assertEventNotHighlighted("SPoCA 21090");
  await eventTree.assertEventNotHighlighted("SPoCA 21080");
  await eventTree.assertEventNotHighlighted("SPoCA 21094");

  // Action 8: Hover on our frm node  "SPoCA" under "Active Region"
  await eventTree.hoverOnFRM("Active Region", "SPoCA");

  // Assert only markers belogns to ActiveRegion/Spoca should be highlighted
  await eventTree.assertEventNotHighlighted("SPoCA 26505");
  await eventTree.assertEventHighlighted("SPoCA 21090");
  await eventTree.assertEventHighlighted("SPoCA 21080");
  await eventTree.assertEventHighlighted("SPoCA 21094");

  // Action 9: Hover on our frm node  "SPoCA" under "Coronal Hole"
  await eventTree.hoverOnFRM("Coronal Hole", "SPoCA");

  // Assert only markers belogns to Coronal Hole/Spoca should be highlighted
  await eventTree.assertEventHighlighted("SPoCA 26505");
  await eventTree.assertEventNotHighlighted("SPoCA 21090");
  await eventTree.assertEventNotHighlighted("SPoCA 21080");
  await eventTree.assertEventNotHighlighted("SPoCA 21094");
});
